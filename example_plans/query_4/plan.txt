+---------------------------+----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Operator                  | Estimated Rows | Rows   | DB Hits | Page Cache Hits | Page Cache Misses | Page Cache Hit Ratio | Order                      | Variables                                                                                | Other                                                                                                                                                                                                                                                                                                                                                                            |
+---------------------------+----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +ProduceResults           |              0 |     11 |       0 |              22 |                 0 |               1.0000 | xyCount DESC, friendId ASC | friend, friendFirstName, friendId, friendLastName, xCount, xyCount, yCount               |                                                                                                                                                                                                                                                                                                                                                                                  |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Projection               |              0 |     11 |      22 |              22 |                 0 |               1.0000 | xyCount DESC, friendId ASC | friendFirstName, friendLastName -- friend, friendId, xCount, xyCount, yCount             | {friendLastName : friend.lastName, friendFirstName : friend.firstName}                                                                                                                                                                                                                                                                                                           |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Top                      |              0 |     11 |       0 |              40 |                 0 |               1.0000 | xyCount DESC, friendId ASC | friend, friendId, xCount, xyCount, yCount                                                | xyCount, friendId; 20                                                                                                                                                                                                                                                                                                                                                            |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Projection               |              0 |     11 |      11 |              18 |                 0 |               1.0000 |                            | friendId, xyCount -- friend, xCount, yCount                                              | {xyCount : xCount + yCount, friendId : friend.id}                                                                                                                                                                                                                                                                                                                                |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |              0 |     11 |       0 |              18 |                 0 |               1.0000 |                            | friend, xCount, yCount                                                                   | yCount > 0; xCount > 0                                                                                                                                                                                                                                                                                                                                                           |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +EagerAggregation         |              1 |     44 |       0 |          195836 |                 0 |               1.0000 |                            | xCount, yCount -- friend                                                                 | friend                                                                                                                                                                                                                                                                                                                                                                           |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Projection               |              0 |     72 |       0 |          195818 |                 0 |               1.0000 |                            | messageX, messageY -- anon[482], anon[550], country, countryX, countryY, friend, message | {messageX : case when `country` = countryX then 1 else 0 end, messageY : case when `country` = countryY then 1 else 0 end}                                                                                                                                                                                                                                                       |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |              0 |     72 |       0 |          195818 |                 0 |               1.0000 |                            | anon[482], anon[550], country, countryX, countryY, friend, message                       | `country` IN [countryX, countryY]                                                                                                                                                                                                                                                                                                                                                |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Expand(All)              |              0 |   5000 |   10000 |          195818 |                 0 |               1.0000 |                            | anon[550], country -- anon[482], countryX, countryY, friend, message                     | (message)-[:POST_IS_LOCATED_IN|:COMMENT_IS_LOCATED_IN]->(  country@596)                                                                                                                                                                                                                                                                                                          |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |              0 |   5000 |  382926 |          195818 |                 0 |               1.0000 |                            | anon[482], countryX, countryY, friend, message                                           | AndedPropertyInequalities(Variable(message),Property(Variable(message),PropertyKeyName(creationDate)),GreaterThanOrEqual(Property(Variable(message),PropertyKeyName(creationDate)),Parameter(Date0,Any)), LessThan(Property(Variable(message),PropertyKeyName(creationDate)),Add(Parameter(Date0,Any),Multiply(Parameter(Duration,Any),SignedDecimalIntegerLiteral(86400000))))) |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Expand(All)              |              1 | 202874 |  203294 |          195818 |                 0 |               1.0000 |                            | anon[482], message -- countryX, countryY, friend                                         | (friend)<-[:POST_HAS_CREATOR|:COMMENT_HAS_CREATOR]-(message)                                                                                                                                                                                                                                                                                                                     |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Distinct                 |              1 |    420 |       0 |          195818 |                 0 |               1.0000 |                            | countryX, countryY, friend                                                               | friend, countryX, countryY                                                                                                                                                                                                                                                                                                                                                       |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |              1 |    420 |       0 |          194517 |                 0 |               1.0000 |                            | anon[347], city, cities, countryX, countryY, friend, person                              | not `city` IN cities                                                                                                                                                                                                                                                                                                                                                             |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Expand(All)              |              3 |    420 |     840 |          194517 |                 0 |               1.0000 |                            | anon[347], city -- cities, countryX, countryY, friend, person                            | (friend)-[:PERSON_IS_LOCATED_IN]->(  city@373)                                                                                                                                                                                                                                                                                                                                   |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |           1016 |    420 |       0 |          194517 |                 0 |               1.0000 |                            | cities, countryX, countryY, friend, person                                               | not person = friend                                                                                                                                                                                                                                                                                                                                                              |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +VarLengthExpand(Pruning) |           1128 |    420 |     429 |          194517 |                 0 |               1.0000 |                            | friend -- cities, countryX, countryY, person                                             | (person)-[:KNOWS*..2]-(friend)                                                                                                                                                                                                                                                                                                                                                   |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +EagerAggregation         |             32 |      1 |       0 |          194526 |                 0 |               1.0000 |                            | cities -- countryX, countryY, person                                                     | person, countryX, countryY                                                                                                                                                                                                                                                                                                                                                       |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |           1012 |      2 |       2 |               9 |                 0 |               1.0000 |                            | anon[181], city, country, countryX, countryY, person                                     | `city`:City                                                                                                                                                                                                                                                                                                                                                                      |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Expand(All)              |           1012 |      2 |       4 |               9 |                 0 |               1.0000 |                            | anon[181], city -- country, countryX, countryY, person                                   | (  country@197)<-[:IS_PART_OF]-(  city@170)                                                                                                                                                                                                                                                                                                                                      |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Filter                   |             83 |      2 |       0 |               9 |                 0 |               1.0000 |                            | country, countryX, countryY, person                                                      | `country` IN [countryX, countryY]                                                                                                                                                                                                                                                                                                                                                |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Apply                    |           1012 |    111 |       0 |               9 |                 0 |               1.0000 |                            | country, countryX, countryY, person                                                      |                                                                                                                                                                                                                                                                                                                                                                                  |
| |\                        +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| | +NodeByLabelScan        |            111 |    111 |     112 |               9 |                 0 |               1.0000 |                            | country -- countryX, countryY, person                                                    | :Country                                                                                                                                                                                                                                                                                                                                                                         |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +Limit                    |              1 |      1 |       0 |              13 |                 0 |               1.0000 |                            | countryX, countryY, person                                                               | 1                                                                                                                                                                                                                                                                                                                                                                                |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +CartesianProduct         |              1 |      1 |       0 |             172 |                 0 |               1.0000 |                            | countryX -- countryY, person                                                             |                                                                                                                                                                                                                                                                                                                                                                                  |
| |\                        +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| | +CartesianProduct       |              1 |      1 |       0 |             173 |                 0 |               1.0000 |                            | person -- countryY                                                                       |                                                                                                                                                                                                                                                                                                                                                                                  |
| | |\                      +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| | | +NodeUniqueIndexSeek  |              1 |      1 |       3 |             175 |                 0 |               1.0000 |                            | countryY                                                                                 | :Country(name)                                                                                                                                                                                                                                                                                                                                                                   |
| | |                       +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| | +NodeUniqueIndexSeek    |              1 |      1 |       3 |             173 |                 0 |               1.0000 |                            | person                                                                                   | :Person(id)                                                                                                                                                                                                                                                                                                                                                                      |
| |                         +----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| +NodeUniqueIndexSeek      |              1 |      1 |       3 |             172 |                 0 |               1.0000 |                            | countryX                                                                                 | :Country(name)                                                                                                                                                                                                                                                                                                                                                                   |
+---------------------------+----------------+--------+---------+-----------------+-------------------+----------------------+----------------------------+------------------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Total database accesses: 597649
